{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { ref, onMounted } from 'vue';\nimport axios from '@/axios';\nimport { useRouter, useRoute } from 'vue-router';\nexport default {\n  __name: 'EditLeadPage',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const router = useRouter();\n    const route = useRoute();\n    const lead = ref(null);\n    const error = ref('');\n    const fetchLead = async () => {\n      try {\n        const response = await axios.get(`/leads/${route.params.id}`);\n        lead.value = response.data;\n      } catch (err) {\n        console.error(err);\n        error.value = 'Failed to fetch lead details.';\n      }\n    };\n    const updateLead = async () => {\n      try {\n        await axios.put(`/leads/${lead.value.id}`, lead.value);\n        alert('Lead updated successfully');\n        router.push('/admin');\n      } catch (err) {\n        console.error(err);\n        error.value = 'Failed to update lead.';\n      }\n    };\n    onMounted(() => {\n      fetchLead();\n    });\n    const __returned__ = {\n      router,\n      route,\n      lead,\n      error,\n      fetchLead,\n      updateLead,\n      ref,\n      onMounted,\n      get axios() {\n        return axios;\n      },\n      get useRouter() {\n        return useRouter;\n      },\n      get useRoute() {\n        return useRoute;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","onMounted","axios","useRouter","useRoute","router","route","lead","error","fetchLead","response","get","params","id","value","data","err","console","updateLead","put","alert","push"],"sources":["/home/abd/www/zadaniya/infoservice/front/src/pages/EditLeadPage.vue"],"sourcesContent":["<template>\n  <Layout>\n    <div class=\"container mx-auto p-4 max-w-md\">\n      <h1 class=\"text-2xl mb-4\">Edit Lead</h1>\n      <div v-if=\"lead\">\n        <form @submit.prevent=\"updateLead\">\n          <div class=\"mb-4\">\n            <label for=\"first_name\" class=\"block text-sm font-medium text-gray-700\">First Name</label>\n            <input v-model=\"lead.first_name\" type=\"text\" id=\"first_name\" class=\"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm\" />\n          </div>\n          <div class=\"mb-4\">\n            <label for=\"last_name\" class=\"block text-sm font-medium text-gray-700\">Last Name</label>\n            <input v-model=\"lead.last_name\" type=\"text\" id=\"last_name\" class=\"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm\" />\n          </div>\n          <div class=\"mb-4\">\n            <label for=\"email\" class=\"block text-sm font-medium text-gray-700\">Email</label>\n            <input v-model=\"lead.email\" type=\"email\" id=\"email\" class=\"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm\" />\n          </div>\n          <div class=\"mb-4\">\n            <label for=\"phone\" class=\"block text-sm font-medium text-gray-700\">Phone Number</label>\n            <input v-model=\"lead.phone\" type=\"text\" id=\"phone\" class=\"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm\" />\n          </div>\n          <div class=\"mb-4\">\n            <label for=\"message\" class=\"block text-sm font-medium text-gray-700\">Message</label>\n            <textarea v-model=\"lead.message\" id=\"message\" rows=\"4\" class=\"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm\"></textarea>\n          </div>\n          <button type=\"submit\" class=\"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50\">Save</button>\n          <p class=\"text-red-500 mt-2\">{{ error }}</p>\n        </form>\n      </div>\n    </div>\n  </Layout>\n</template>\n\n<script setup>\nimport { ref, onMounted } from 'vue';\nimport axios from '@/axios';\nimport { useRouter, useRoute } from 'vue-router';\n\nconst router = useRouter();\nconst route = useRoute();\n\nconst lead = ref(null);\nconst error = ref('');\n\nconst fetchLead = async () => {\n  try {\n    const response = await axios.get(`/leads/${route.params.id}`);\n    lead.value = response.data;\n  } catch (err) {\n    console.error(err);\n    error.value = 'Failed to fetch lead details.';\n  }\n};\n\nconst updateLead = async () => {\n  try {\n    await axios.put(`/leads/${lead.value.id}`, lead.value);\n    alert('Lead updated successfully');\n    router.push('/admin');\n  } catch (err) {\n    console.error(err);\n    error.value = 'Failed to update lead.';\n  }\n};\n\nonMounted(() => {\n  fetchLead();\n});\n</script>\n"],"mappings":";AAmCA,SAASA,GAAG,EAAEC,SAAS,QAAQ,KAAK;AACpC,OAAOC,KAAK,MAAM,SAAS;AAC3B,SAASC,SAAS,EAAEC,QAAQ,QAAQ,YAAY;;;;;;;IAEhD,MAAMC,MAAM,GAAGF,SAAS,CAAC,CAAC;IAC1B,MAAMG,KAAK,GAAGF,QAAQ,CAAC,CAAC;IAExB,MAAMG,IAAI,GAAGP,GAAG,CAAC,IAAI,CAAC;IACtB,MAAMQ,KAAK,GAAGR,GAAG,CAAC,EAAE,CAAC;IAErB,MAAMS,SAAS,GAAG,MAAAA,CAAA,KAAY;MAC5B,IAAI;QACF,MAAMC,QAAQ,GAAG,MAAMR,KAAK,CAACS,GAAG,CAAC,UAAUL,KAAK,CAACM,MAAM,CAACC,EAAE,EAAE,CAAC;QAC7DN,IAAI,CAACO,KAAK,GAAGJ,QAAQ,CAACK,IAAI;MAC5B,CAAC,CAAC,OAAOC,GAAG,EAAE;QACZC,OAAO,CAACT,KAAK,CAACQ,GAAG,CAAC;QAClBR,KAAK,CAACM,KAAK,GAAG,+BAA+B;MAC/C;IACF,CAAC;IAED,MAAMI,UAAU,GAAG,MAAAA,CAAA,KAAY;MAC7B,IAAI;QACF,MAAMhB,KAAK,CAACiB,GAAG,CAAC,UAAUZ,IAAI,CAACO,KAAK,CAACD,EAAE,EAAE,EAAEN,IAAI,CAACO,KAAK,CAAC;QACtDM,KAAK,CAAC,2BAA2B,CAAC;QAClCf,MAAM,CAACgB,IAAI,CAAC,QAAQ,CAAC;MACvB,CAAC,CAAC,OAAOL,GAAG,EAAE;QACZC,OAAO,CAACT,KAAK,CAACQ,GAAG,CAAC;QAClBR,KAAK,CAACM,KAAK,GAAG,wBAAwB;MACxC;IACF,CAAC;IAEDb,SAAS,CAAC,MAAM;MACdQ,SAAS,CAAC,CAAC;IACb,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}