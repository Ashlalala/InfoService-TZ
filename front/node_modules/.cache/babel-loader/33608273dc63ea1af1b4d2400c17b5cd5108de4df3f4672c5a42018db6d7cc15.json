{"ast":null,"code":"import { createElementVNode as _createElementVNode, createCommentVNode as _createCommentVNode, vModelText as _vModelText, withDirectives as _withDirectives, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString } from \"vue\";\nconst _hoisted_1 = {\n  class: \"max-w-md mx-auto mt-10 p-6 bg-white shadow-md rounded\"\n};\nconst _hoisted_2 = {\n  class: \"mb-4\"\n};\nconst _hoisted_3 = {\n  class: \"mb-4\"\n};\nconst _hoisted_4 = {\n  key: 1,\n  class: \"text-red-500 mt-4\"\n};\nconst _hoisted_5 = {\n  key: 2,\n  class: \"text-green-500 mt-4\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_cache[4] || (_cache[4] = _createElementVNode(\"h1\", {\n    class: \"text-2xl font-bold mb-6 text-center\"\n  }, \"Reset Password\", -1 /* HOISTED */)), !$setup.success ? (_openBlock(), _createElementBlock(_Fragment, {\n    key: 0\n  }, [_createCommentVNode(\" New Password Input \"), _createElementVNode(\"div\", _hoisted_2, [_cache[2] || (_cache[2] = _createElementVNode(\"label\", {\n    for: \"password\",\n    class: \"block text-sm font-medium text-gray-700\"\n  }, \"New Password\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    type: \"password\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $setup.password = $event),\n    id: \"password\",\n    class: \"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm\",\n    placeholder: \"Enter your new password\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.password]])]), _createCommentVNode(\" Confirm Password Input \"), _createElementVNode(\"div\", _hoisted_3, [_cache[3] || (_cache[3] = _createElementVNode(\"label\", {\n    for: \"confirmPassword\",\n    class: \"block text-sm font-medium text-gray-700\"\n  }, \"Confirm Password\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    type: \"password\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $setup.confirmPassword = $event),\n    id: \"confirmPassword\",\n    class: \"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm\",\n    placeholder: \"Confirm your new password\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.confirmPassword]])]), _createCommentVNode(\" Submit Button \"), _createElementVNode(\"div\", null, [_createElementVNode(\"button\", {\n    onClick: $setup.submitResetPassword,\n    class: \"w-full bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50\"\n  }, \" Reset Password \")])], 64 /* STABLE_FRAGMENT */)) : _createCommentVNode(\"v-if\", true), $setup.error ? (_openBlock(), _createElementBlock(\"p\", _hoisted_4, _toDisplayString($setup.error), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true), $setup.success ? (_openBlock(), _createElementBlock(\"p\", _hoisted_5, _toDisplayString($setup.success), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true)]);\n}","map":{"version":3,"names":["class","key","_createElementBlock","_hoisted_1","_createElementVNode","$setup","success","_Fragment","_createCommentVNode","_hoisted_2","for","type","_cache","$event","password","id","placeholder","_hoisted_3","confirmPassword","onClick","submitResetPassword","error","_hoisted_4","_toDisplayString","_hoisted_5"],"sources":["/home/abd/www/zadaniya/infoservice/front/src/pages/ResetPasswordPage.vue"],"sourcesContent":["<template>\n  <div class=\"max-w-md mx-auto mt-10 p-6 bg-white shadow-md rounded\">\n    <h1 class=\"text-2xl font-bold mb-6 text-center\">Reset Password</h1>\n\n    <template v-if=\"!success\">        \n      <!-- New Password Input -->\n      <div class=\"mb-4\">\n        <label for=\"password\" class=\"block text-sm font-medium text-gray-700\">New Password</label>\n      <input\n        type=\"password\"\n        v-model=\"password\"\n        id=\"password\"\n        class=\"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm\"\n        placeholder=\"Enter your new password\"\n        />\n      </div>\n\n      <!-- Confirm Password Input -->\n      <div class=\"mb-4\">\n        <label for=\"confirmPassword\" class=\"block text-sm font-medium text-gray-700\">Confirm Password</label>\n        <input\n        type=\"password\"\n          v-model=\"confirmPassword\"\n          id=\"confirmPassword\"\n          class=\"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm\"\n          placeholder=\"Confirm your new password\"\n          />\n        </div>\n        \n        <!-- Submit Button -->\n        <div>\n          <button\n          @click=\"submitResetPassword\"\n          class=\"w-full bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50\"\n          >\n          Reset Password\n        </button>\n      </div>\n    </template>\n\n    <p v-if=\"error\" class=\"text-red-500 mt-4\">{{ error }}</p>\n    <p v-if=\"success\" class=\"text-green-500 mt-4\">{{ success }}</p>\n  </div>\n</template>\n\n<script setup>\nimport { ref } from 'vue';\nimport { useRoute } from 'vue-router';\nimport axios from '@/axios';\n\n\nconst route = useRoute();\n\n// Get email and token from URL query parameters\nconst email = route.query.email;\nconst resetToken = route.query.token;\n\nconst password = ref('');\nconst confirmPassword = ref('');\nconst error = ref('');\nconst success = ref('');\n\n// Function to handle the password reset form submission\nconst submitResetPassword = async () => {\n  error.value = '';  // Reset error message\n  success.value = '';  // Reset success message\n\n  // Simple form validation\n  if (!password.value || !confirmPassword.value) {\n    error.value = 'Please fill in all fields.';\n    return;\n  }\n  if (password.value !== confirmPassword.value) {\n    error.value = 'Passwords do not match.';\n    return;\n  }\n\n  console.log(resetToken);\n  \n  // Send password reset request to the API\n  try {\n    const response = await axios.post('/reset-password', {\n      email: email,\n      password: password.value,\n      password_confirmation: confirmPassword.value,\n      token: resetToken,\n    });\n    console.log(response);\n    success.value = 'Password reset successful.';\n  } catch (err) {\n    console.log(err);\n    \n    error.value = err.response?.data;\n  }\n};\n</script>\n\n"],"mappings":";;EACOA,KAAK,EAAC;AAAuD;;EAKzDA,KAAK,EAAC;AAAM;;EAYZA,KAAK,EAAC;AAAM;;EAlBvBC,GAAA;EAwCoBD,KAAK,EAAC;;;EAxC1BC,GAAA;EAyCsBD,KAAK,EAAC;;;uBAxC1BE,mBAAA,CAyCM,OAzCNC,UAyCM,G,0BAxCJC,mBAAA,CAAmE;IAA/DJ,KAAK,EAAC;EAAqC,GAAC,gBAAc,sB,CAE7CK,MAAA,CAAAC,OAAO,I,cAAxBJ,mBAAA,CAkCWK,SAAA;IAtCfN,GAAA;EAAA,IAKMO,mBAAA,wBAA2B,EAC3BJ,mBAAA,CASM,OATNK,UASM,G,0BARJL,mBAAA,CAA0F;IAAnFM,GAAG,EAAC,UAAU;IAACV,KAAK,EAAC;KAA0C,cAAY,sB,gBACpFI,mBAAA,CAMI;IALFO,IAAI,EAAC,UAAU;IATvB,uBAAAC,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAUiBR,MAAA,CAAAS,QAAQ,GAAAD,MAAA;IACjBE,EAAE,EAAC,UAAU;IACbf,KAAK,EAAC,iJAAiJ;IACvJgB,WAAW,EAAC;iDAHHX,MAAA,CAAAS,QAAQ,E,KAOnBN,mBAAA,4BAA+B,EAC/BJ,mBAAA,CASQ,OATRa,UASQ,G,0BARNb,mBAAA,CAAqG;IAA9FM,GAAG,EAAC,iBAAiB;IAACV,KAAK,EAAC;KAA0C,kBAAgB,sB,gBAC7FI,mBAAA,CAMI;IALJO,IAAI,EAAC,UAAU;IArBvB,uBAAAC,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAsBmBR,MAAA,CAAAa,eAAe,GAAAL,MAAA;IACxBE,EAAE,EAAC,iBAAiB;IACpBf,KAAK,EAAC,iJAAiJ;IACvJgB,WAAW,EAAC;iDAHHX,MAAA,CAAAa,eAAe,E,KAO1BV,mBAAA,mBAAsB,EACtBJ,mBAAA,CAOI,cANFA,mBAAA,CAKO;IAJNe,OAAK,EAAEd,MAAA,CAAAe,mBAAmB;IAC3BpB,KAAK,EAAC;KACL,kBAEH,E,iCApCRQ,mBAAA,gBAwCaH,MAAA,CAAAgB,KAAK,I,cAAdnB,mBAAA,CAAyD,KAAzDoB,UAAyD,EAAAC,gBAAA,CAAZlB,MAAA,CAAAgB,KAAK,oBAxCtDb,mBAAA,gBAyCaH,MAAA,CAAAC,OAAO,I,cAAhBJ,mBAAA,CAA+D,KAA/DsB,UAA+D,EAAAD,gBAAA,CAAdlB,MAAA,CAAAC,OAAO,oBAzC5DE,mBAAA,e","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}