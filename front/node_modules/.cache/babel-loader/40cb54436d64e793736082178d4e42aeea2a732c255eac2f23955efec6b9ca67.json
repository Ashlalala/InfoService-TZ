{"ast":null,"code":"import { ref } from 'vue';\nimport axios from '@/axios';\nexport default {\n  __name: 'AdminPage',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const user = JSON.parse(localStorage.getItem('user'));\n    console.log(user);\n    const leads = ref(null);\n    const error = ref('');\n    const getLeads = async () => {\n      try {\n        const response = await axios.get('/leads');\n        leads.value = response.data;\n        console.log(response.data);\n      } catch (err) {\n        console.log(err);\n        error.value = err.response?.data?.message || 'Login failed';\n      }\n    };\n    getLeads();\n    const __returned__ = {\n      user,\n      leads,\n      error,\n      getLeads,\n      ref,\n      get axios() {\n        return axios;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","axios","user","JSON","parse","localStorage","getItem","console","log","leads","error","getLeads","response","get","value","data","err","message"],"sources":["/home/abd/www/zadaniya/infoservice/front/src/pages/AdminPage.vue"],"sourcesContent":["<template>\n  <Layout>\n    <div class=\"container mx-auto p-4\">\n      <h1 class=\"text-2xl\">Welcome, <span class=\"font-bold\">{{user.name}}</span></h1>\n      <div>\n        <p>Your email: <span class=\"font-bold\">{{ user.email }}</span></p>\n        <button>Reset password</button>\n        <button class=\"bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-opacity-50\">\n  Logout\n        </button>\n      </div>\n      <h2 class=\"text-xl font-bold mb-4 mt-4\">Leads:</h2>\n      <div class=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4\">\n        <div v-for=\"lead in leads\" :key=\"lead.id\" class=\"border p-4 rounded-lg shadow-md overflow-hidden break-words\">\n          <p><strong>First name:</strong> {{ lead.first_name }}</p>\n          <p><strong>Last name:</strong> {{ lead.last_name }}</p>\n          <p><strong>Email:</strong> {{ lead.email }}</p>\n          <p><strong>Phone number:</strong> {{ lead.phone }}</p>\n          <p><strong>Message:</strong> {{ lead.message }}</p>\n        </div>\n      </div>\n      <p class=\"text-red-500\">{{ error }}</p>\n\n\n    </div>\n  </Layout>\n</template>\n\n<script setup>\nimport {ref} from 'vue'\nimport axios from '@/axios'\n\nconst user = JSON.parse(localStorage.getItem('user'));\nconsole.log(user);\n\nconst leads = ref(null)\nconst error = ref('')\n\n\nconst getLeads = async () => {\n  try {\n    const response = await axios.get('/leads');\n    leads.value=response.data\n    \n    console.log(response.data);\n\n  } catch (err) {\n    console.log(err);\n\n    error.value = err.response?.data?.message || 'Login failed';\n  }\n};\n\ngetLeads()\n</script>\n"],"mappings":"AA6BA,SAAQA,GAAG,QAAO,KAAK;AACvB,OAAOC,KAAK,MAAM,SAAS;;;;;;;IAE3B,MAAMC,IAAI,GAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAAC;IACrDC,OAAO,CAACC,GAAG,CAACN,IAAI,CAAC;IAEjB,MAAMO,KAAK,GAAGT,GAAG,CAAC,IAAI,CAAC;IACvB,MAAMU,KAAK,GAAGV,GAAG,CAAC,EAAE,CAAC;IAGrB,MAAMW,QAAQ,GAAG,MAAAA,CAAA,KAAY;MAC3B,IAAI;QACF,MAAMC,QAAQ,GAAG,MAAMX,KAAK,CAACY,GAAG,CAAC,QAAQ,CAAC;QAC1CJ,KAAK,CAACK,KAAK,GAACF,QAAQ,CAACG,IAAI;QAEzBR,OAAO,CAACC,GAAG,CAACI,QAAQ,CAACG,IAAI,CAAC;MAE5B,CAAC,CAAC,OAAOC,GAAG,EAAE;QACZT,OAAO,CAACC,GAAG,CAACQ,GAAG,CAAC;QAEhBN,KAAK,CAACI,KAAK,GAAGE,GAAG,CAACJ,QAAQ,EAAEG,IAAI,EAAEE,OAAO,IAAI,cAAc;MAC7D;IACF,CAAC;IAEDN,QAAQ,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}